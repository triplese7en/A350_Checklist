<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self';">
    <meta name="theme-color" content="#22d3ee">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="A350 XWB">
    <title>A350 AIDE MEMOIRE</title>
    <link rel="icon" type="image/webp" href="A350XWB-carbon.webp">
    <link rel="icon" type="image/png" href="A350XWB-carbon-optimized.png">
    <link rel="apple-touch-icon" href="A350XWB-carbon-optimized.png">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
</head>
</head>
<body>

    <div class="ecam-container">
        <div class="ecam-header">
            <div class="ecam-title">A350 AIDE MEMOIRE</div>
            <div class="ecam-status">
                <div class="status-indicator">
                    <div class="status-light active"></div>
                    <span>Status Normal</span>
                </div>
                <div style="display: flex; flex-direction: column; gap: 5px; align-items: flex-end;">
                    <div class="ecam-time" id="zuluTime">00:00:00Z</div>
                    <div class="ecam-countdown" id="countdown" style="cursor: pointer;" onclick="openTimerModal()">T+ 00:00:00</div>
                </div>
            </div>
        </div>
        
        <div class="ecam-body">
            <!-- PRELIM COCKPIT PREPARATION Section -->
            <div class="phase-header" onclick="toggleSection('prelim', event)">
                <span>PRELIM COCKPIT PREPARATION</span>
                <span class="collapse-icon">â–¼</span>
            </div>
            
            <div class="checklist-group" id="prelim-group">
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check1">
                    </div>
                    <label for="check1" class="item-text">BRAKES TEMP</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check2">
                    </div>
                    <label for="check2" class="item-text">BATT CHECK/ADIRS</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check3">
                    </div>
                    <label for="check3" class="item-text">POWER UP</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check4">
                    </div>
                    <label for="check4" class="item-text">OIS</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check5">
                    </div>
                    <label for="check5" class="item-text">TECH LOG/MEL</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check6">
                    </div>
                    <label for="check6" class="item-text">MFF/OEB's</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check7">
                    </div>
                    <label for="check7" class="item-text">APU/ENG FIRE TEST</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check8">
                    </div>
                    <label for="check8" class="item-text">TOPA</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check9">
                    </div>
                    <label for="check9" class="item-text">SECURITY CHECK FORM</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check10">
                    </div>
                    <label for="check10" class="item-text">FUEL FIGURES => ENGINEER + LOADCONTROL</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check11">
                    </div>
                    <label for="check11" class="item-text">ATC CLEARANCE</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check12">
                    </div>
                    <label for="check12" class="item-text">BRIEFING</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check13">
                    </div>
                    <label for="check13" class="item-text">NOTOC</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check14">
                    </div>
                    <label for="check14" class="item-text">COCKPIT PREP CHECKLIST</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check15">
                    </div>
                    <label for="check15" class="item-text">LOADSHEET + LOADSHEET ACCEPTANCE</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check16">
                    </div>
                    <label for="check16" class="item-text">X-CHECK WITH AVIONICS</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check17">
                    </div>
                    <label for="check17" class="item-text">TECH + CABIN LOG SIGN</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check18">
                    </div>
                    <label for="check18" class="item-text">PA</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="check19">
                    </div>
                    <label for="check19" class="item-text">BEFORE START CHECKLIST</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="progress-container">
                    <div class="progress-header">
                        <span>PRELIM Progress</span>
                        <span id="prelimProgressText">0/19 Complete</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="prelimProgressBar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            
            <!-- CRZ Section -->
            <div class="phase-header" onclick="toggleSection('crz', event)">
                <span>CRZ</span>
                <span class="collapse-icon">â–¼</span>
            </div>
            
            <div class="checklist-group" id="crz-group">
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="crz1">
                    </div>
                    <label for="crz1" class="item-text">SYSTEMS CHECK</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="crz2">
                    </div>
                    <label for="crz2" class="item-text">DARD</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="crz3">
                    </div>
                    <label for="crz3" class="item-text">EO LRC</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="crz4">
                    </div>
                    <label for="crz4" class="item-text">UNRELIABLE AIRSPEED</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="crz5">
                    </div>
                    <label for="crz5" class="item-text">WX/NOTAM ALTN ARPT</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="crz6">
                    </div>
                    <label for="crz6" class="item-text">ETOPS</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="crz7">
                    </div>
                    <label for="crz7" class="item-text">OCEANIC PROC</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="crz8">
                    </div>
                    <label for="crz8" class="item-text">GNSS INTERFERENCE</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="crz9">
                    </div>
                    <label for="crz9" class="item-text">WINDS UPDATE</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="progress-container">
                    <div class="progress-header">
                        <span>CRZ Progress</span>
                        <span id="crzProgressText">0/9 Complete</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="crzProgressBar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            
            <!-- DESCENT PREPARATION Section -->
            <div class="phase-header" onclick="toggleSection('descent', event)">
                <span>DESCENT PREPARATION</span>
                <span class="collapse-icon">â–¼</span>
            </div>
            
            <div class="checklist-group" id="descent-group">
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="descent1">
                    </div>
                    <label for="descent1" class="item-text">TIME MARKER -20 TOP</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="descent2">
                    </div>
                    <label for="descent2" class="item-text">REVIEW WX/NOTAM DEST+ALTN</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="descent3">
                    </div>
                    <label for="descent3" class="item-text">SETUP CHARTS</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="descent4">
                    </div>
                    <label for="descent4" class="item-text">LDG DIST</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="descent5">
                    </div>
                    <label for="descent5" class="item-text">ISIS QNH</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="descent6">
                    </div>
                    <label for="descent6" class="item-text">FMS APPR PREP</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="descent7">
                    </div>
                    <label for="descent7" class="item-text">BTV + ANF SETUP</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="descent8">
                    </div>
                    <label for="descent8" class="item-text">APPROACH BRIEFING</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="checklist-item">
                    <div class="checkbox-container">
                        <input type="checkbox" id="descent9">
                    </div>
                    <label for="descent9" class="item-text">PA</label>
                    <span class="item-status status-pending">PEND</span>
                </div>
                
                <div class="progress-container">
                    <div class="progress-header">
                        <span>Descent Progress</span>
                        <span id="descentProgressText">0/9 Complete</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="descentProgressBar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
    
            
        </div>
        
        <div class="ecam-footer">
            <span>A350-900 XWB | REV 2026.02.1 | For improvements/suggestions : better@a350xwb.app</span>
            <button class="reset-btn" onclick="resetChecklist()">Reset All</button>
        </div>
    </div>
    
    <!-- Timer Setup Modal -->
    <div id="timerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">Set Reference Time</div>
            <div class="time-input-group">
                <input type="number" id="hourInput" class="time-input" min="0" max="23" value="00" placeholder="HH">
                <span class="time-separator">:</span>
                <input type="number" id="minuteInput" class="time-input" min="0" max="59" value="00" placeholder="MM">
                <span class="time-separator">:</span>
                <input type="number" id="secondInput" class="time-input" min="0" max="59" value="00" placeholder="SS">
            </div>
            <div class="quick-set">
                <div class="quick-set-label">Quick Set</div>
                <div class="quick-set-buttons">
                    <button class="quick-btn" onclick="setQuickTime(0)">Now</button>
                    <button class="quick-btn" onclick="setQuickTime(5)">+5 min</button>
                    <button class="quick-btn" onclick="setQuickTime(10)">+10 min</button>
                    <button class="quick-btn" onclick="setQuickTime(15)">+15 min</button>
                    <button class="quick-btn" onclick="setQuickTime(30)">+30 min</button>
                    <button class="quick-btn" onclick="setQuickTime(60)">+1 hr</button>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn cancel" onclick="closeTimerModal()">Cancel</button>
                <button class="modal-btn reset" onclick="resetTimer()">Reset</button>
                <button class="modal-btn" onclick="setTimer()">Set Timer</button>
            </div>
        </div>
    </div>
    
    <!-- Scratchpad Panel -->
    <div id="scratchpadPanel" class="scratchpad-panel">
        <div class="scratchpad-header">
            <div class="scratchpad-title">Scratchpad</div>
            <button class="close-scratchpad" onclick="toggleScratchpad()">Ã—</button>
        </div>
        
        <div class="scratchpad-tabs">
            <button class="tab-btn active" onclick="switchTab('notes', event)">Notes</button>
            <button class="tab-btn" onclick="switchTab('draw', event)">Draw</button>
        </div>
        
        <div class="scratchpad-content">
            <div id="notesTab" class="tab-pane active">
                <textarea id="scratchpadNotes" class="scratchpad-textarea" placeholder="Enter notes, clearances, frequencies..."></textarea>
            </div>
            
            <div id="drawTab" class="tab-pane">
                <div class="canvas-container">
                    <canvas id="drawingCanvas"></canvas>
                </div>
                <div class="color-picker">
                    <div class="color-btn active" style="background: #e5e7eb;" onclick="setDrawColor('#e5e7eb', this)"></div>
                    <div class="color-btn" style="background: #22d3ee;" onclick="setDrawColor('#22d3ee', this)"></div>
                    <div class="color-btn" style="background: #ffb347;" onclick="setDrawColor('#ffb347', this)"></div>
                    <div class="color-btn" style="background: #4ade80;" onclick="setDrawColor('#4ade80', this)"></div>
                    <div class="color-btn" style="background: #ef4444;" onclick="setDrawColor('#ef4444', this)"></div>
                </div>
                <div class="canvas-controls">
                    <button class="canvas-btn" onclick="saveDrawing()">Save</button>
                    <button class="canvas-btn clear" onclick="clearCanvas()">Clear</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Floating Scratchpad Button -->
    <button class="scratchpad-btn" onclick="toggleScratchpad()">ðŸ“‹ Scratchpad</button>
    
    
    <!-- External JavaScript -->
    <script src="app.js"></script>
    
    <!-- Cloudflare Web Analytics -->
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "c98f310c942c49f6a776c5a4b73cbe18"}'></script>
    <!-- End Cloudflare Web Analytics -->
</body>
</html>
